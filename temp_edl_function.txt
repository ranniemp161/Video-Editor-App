
  const exportToEDL = useCallback(async () => {
    const data = {
      timeline,
      assets: assets.map(a => ({
        id: a.id,
        name: a.name,
        duration: a.duration,
        src: a.remoteSrc || a.src
      }))
    };

    try {
      const response = await fetch('/api/export-edl', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      });
      const result = await response.json();
      if (result.success) {
        // Trigger download
        const link = document.createElement('a');
        link.href = result.path;
        link.download = basename(result.path);
        document.body.appendChild(link);
        link.click();
        document.body.removeChild(link);
      }
    } catch (err) {
      console.error('EDL Export failed:', err);
    }
  }, [timeline, assets]);
